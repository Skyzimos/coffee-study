<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee Preferences Statistics</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        canvas { max-width: 600px; margin: 20px auto; }
    </style>
</head>
<body>
    <h1>Coffee Preferences Statistics</h1>
    <h2>36 Respondent (as of April 3rd, 2025)</h2>
    <p>This was a study preformed from April 1st-April 3rd, 2025. It was conducted for the purpose of finding out which coffee shop different Sexual Orientations generally lean towards.<br><br>Note:"Other" (for the orientations) is defined as NOT straight, but not any of the Sexual Orientations listed.</p>
    <canvas id="coffeeChart"></canvas>
    <canvas id="genderChart"></canvas>
    <canvas id="orientationChart"></canvas>
    <canvas id="starbucksOrientationChart"></canvas>
    <canvas id="caribouOrientationChart"></canvas>
    
    <script>
        (function() {
            const coffeeDataSet = [
    { timestamp: "4/1/2025 12:46:40", gender: "Female", orientation: "Straight", coffee: "Starbucks" },
    { timestamp: "4/1/2025 12:47:21", gender: "Female", orientation: "Lesbian", coffee: "Caribou Coffee" },
    { timestamp: "4/1/2025 12:49:39", gender: "Male", orientation: "Straight", coffee: "Caribou Coffee" },
    { timestamp: "4/1/2025 12:50:31", gender: "Other", orientation: "Other", coffee: "Caribou Coffee" },
    { timestamp: "4/1/2025 12:57:15", gender: "Female", orientation: "Straight", coffee: "Starbucks" },
    { timestamp: "4/1/2025 13:00:54", gender: "Female", orientation: "Other", coffee: "Caribou Coffee" },
    { timestamp: "4/1/2025 13:02:53", gender: "Female", orientation: "Straight", coffee: "Starbucks" },
    { timestamp: "4/1/2025 13:25:58", gender: "Female", orientation: "Straight", coffee: "Caribou Coffee" },
    { timestamp: "4/1/2025 13:26:04", gender: "Female", orientation: "Lesbian", coffee: "Starbucks" },
    { timestamp: "4/1/2025 13:36:29", gender: "Female", orientation: "Straight", coffee: "Starbucks" },
    { timestamp: "4/1/2025 17:47:36", gender: "Male", orientation: "Gay", coffee: "Starbucks" },
    { timestamp: "4/2/2025 14:45:20", gender: "Female", orientation: "Straight", coffee: "Starbucks" },
    { timestamp: "4/2/2025 14:46:32", gender: "Other", orientation: "Other", coffee: "Caribou Coffee" },
    { timestamp: "4/2/2025 14:47:32", gender: "Female", orientation: "Other", coffee: "Caribou Coffee" },
    { timestamp: "4/2/2025 14:57:17", gender: "Female", orientation: "Straight", coffee: "Starbucks" },
    { timestamp: "4/2/2025 15:02:10", gender: "Female", orientation: "Straight", coffee: "Caribou Coffee" },
    { timestamp: "4/2/2025 15:02:30", gender: "Female", orientation: "Straight", coffee: "Caribou Coffee" },
    { timestamp: "4/2/2025 15:03:29", gender: "Female", orientation: "Straight", coffee: "Caribou Coffee" },
    { timestamp: "4/2/2025 15:03:44", gender: "Female", orientation: "Straight", coffee: "Starbucks" },
    { timestamp: "4/2/2025 15:41:31", gender: "Female", orientation: "Other", coffee: "Starbucks" },
    { timestamp: "4/2/2025 15:57:05", gender: "Female", orientation: "Straight", coffee: "Caribou Coffee" },
    { timestamp: "4/2/2025 16:08:00", gender: "Female", orientation: "Other", coffee: "Caribou Coffee" },
    { timestamp: "4/2/2025 16:19:50", gender: "Female", orientation: "Straight", coffee: "Caribou Coffee" },
    { timestamp: "4/2/2025 16:43:38", gender: "Female", orientation: "Straight", coffee: "Starbucks" },
    { timestamp: "4/2/2025 17:00:56", gender: "Female", orientation: "Other", coffee: "Caribou Coffee" },
    { timestamp: "4/2/2025 17:36:17", gender: "Female", orientation: "Lesbian", coffee: "Starbucks" },
    { timestamp: "4/2/2025 18:07:39", gender: "Female", orientation: "Straight", coffee: "Starbucks" },
    { timestamp: "4/2/2025 18:21:41", gender: "Male", orientation: "Other", coffee: "Starbucks" },
    { timestamp: "4/2/2025 19:49:00", gender: "Female", orientation: "Straight", coffee: "Other" },
    { timestamp: "4/2/2025 20:41:02", gender: "Female", orientation: "Straight", coffee: "Starbucks" },
    { timestamp: "4/2/2025 20:57:12", gender: "Female", orientation: "Straight", coffee: "Caribou Coffee" },
    { timestamp: "4/2/2025 21:22:19", gender: "Other", orientation: "Other", coffee: "Caribou Coffee" },
    { timestamp: "4/3/2025 6:51:43", gender: "Female", orientation: "Straight", coffee: "Caribou Coffee" },
    { timestamp: "4/3/2025 7:22:02", gender: "Female", orientation: "Straight", coffee: "Caribou Coffee" },
    { timestamp: "4/3/2025 9:36:34", gender: "Female", orientation: "Straight", coffee: "Caribou Coffee" },
    { timestamp: "4/3/2025 11:22:56", gender: "Male", orientation: "Gay", coffee: "Caribou Coffee" }
];
    
            function countByCategory(category) {
                return coffeeDataSet.reduce((acc, item) => {
                    acc[item[category]] = (acc[item[category]] || 0) + 1;
                    return acc;
                }, {});
            }
    
            function countOrientationByCoffee(coffeeType) {
                return coffeeDataSet.reduce((acc, item) => {
                    if (item.coffee === coffeeType) {
                        acc[item.orientation] = (acc[item.orientation] || 0) + 1;
                    }
                    return acc;
                }, {});
            }
    
            function createChart(chartId, label, dataObj) {
                new Chart(document.getElementById(chartId), {
                    type: 'bar',
                    data: {
                        labels: Object.keys(dataObj),
                        datasets: [{
                            label: label,
                            data: Object.values(dataObj),
                            backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0'],
                        }]
                    }
                });
            }
    
            document.addEventListener("DOMContentLoaded", function() {
                createChart("coffeeChart", "Coffee Preferences (by Study Participants)", countByCategory("coffee"));
                createChart("genderChart", "Gender Distribution (by Study Participants)", countByCategory("gender"));
                createChart("orientationChart", "Orientation Distribution (by Study Participants)", countByCategory("orientation"));
                createChart("starbucksOrientationChart", "Starbucks Visitors (by Orientation)", countOrientationByCoffee("Starbucks"));
                createChart("caribouOrientationChart", "Caribou Coffee Visitors (by Orientation)", countOrientationByCoffee("Caribou Coffee"));
            });
        })();
    </script>
</body>
</html>